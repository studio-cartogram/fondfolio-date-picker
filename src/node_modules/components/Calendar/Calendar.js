import React from 'react'
import styled from 'styled-components'
import Weeks from '../Weeks'
import MonthHeader from '../MonthHeader'
import WeekHeader from '../WeekHeader'
import { calendarStyles } from './styles'

const StyledCalendar = styled.div`${calendarStyles}`

class Calendar extends React.Component {
  state = {
  }

  onMove = (view, isForward) => {
    this.weeks.moveTo(view, isForward);
  }

  render() {

    const {
      view,
      selected,
      onSelect,
      minDate,
      maxDate,
      ...rest
    } = this.props

    return (
      <StyledCalendar {...rest}>
        <MonthHeader
          onMove={this.onMove}
          view={view}
        />
        <WeekHeader />
        <Weeks
          view={view}
          ref={r => { this.weeks = r }}
          selected={selected}
          onSelect={onSelect}
          minDate={minDate}
          maxDate={maxDate}
        />
      </StyledCalendar>
    )
  }
}
export default Calendar
